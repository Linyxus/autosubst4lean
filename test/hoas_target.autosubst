namespace RefCalc

kinds:
  var "x"
  lvar "l"

inductive Ty : Sig -> Type
| unit : Ty s
| arrow : Ty s -> Ty s -> Ty s
| prod : Ty s -> Ty s -> Ty s
| ref : BVar s .lvar -> Ty s -> Ty s
| forallL : Ty (s,l) -> Ty s

inductive Exp : Sig -> Type
| var : BVar s .var -> Exp s
| unit : Exp s
| pair : Exp s -> Exp s -> Exp s
| abs : Ty s -> Exp (s,x) -> Exp s
| labs : Exp (s,l) -> Exp s
| ret : Exp s -> Exp s
| bind : Exp s -> Exp (s,x) -> Exp s
| app : Exp s -> Exp s -> Exp s
| lapp : Exp s -> BVar s .lvar -> Exp s
| fst : Exp s -> Exp s
| snd : Exp s -> Exp s
| newrgn : Exp (s,l) -> Exp s
| read : BVar s .lvar -> Exp s -> Exp s
| write : BVar s .lvar -> Exp s -> Exp s -> Exp s
| alloc : BVar s .lvar -> Exp s -> Exp s
